@model CapstoneProject.Models.ViewModels.GroupProject

@{ 
    ViewBag.Title = "AssignProjects";
}

<h2>Apply for Projects</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(modelItem =>modelItem.Group.GroupId)

    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Projects[0].Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Projects[0].Description)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Projects[0].Type)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Projects[0].State)
            </th>
            <th>
                @Html.DisplayName("Apply")
            </th>
        </tr>
        @{
            var projList = Model.Projects.ToList();
            for (int i = 0; i < projList.Count(); i++)
            {
                <tr>
                    <td>
                        @Html.HiddenFor(modelItem => projList[i].ProjectId)
                        @Html.DisplayFor(modelItem => projList[i].Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => projList[i].Description)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => projList[i].Type)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => projList[i].State)
                    </td>

                    @if (projList[i].State.Equals("Assigned"))
                    {
                    <td>
                        @Html.CheckBox("chkAssignedProj", Model.Group.Projects.Contains(projList[i]), new { @disabled = "disabled", id = projList[i].ProjectId })
                    </td>
                    }
                    else
                    {
                    <td>
                        <input type="checkbox" class="chk-act" id="@projList[i].ProjectId " value="@projList[i].ProjectId " name="chkAssignedProj" checked="@Model.Group.Projects.Contains(projList[i])">
                       
                    </td>
                    }
                </tr>
            }



        }

     </table>
    
        <input type="submit" name="button" value="Save" /><span style="color:red"> @ViewBag.SubmitError </span>
    
        }
