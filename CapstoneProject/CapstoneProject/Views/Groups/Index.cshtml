@model CapstoneProject.Models.StudentGroup

@{
    ViewBag.Title = "Index";
}

<h2>Groups</h2>

@{ if (Model.hasGroup)
    {
        <p>
            @Html.ActionLink("Create Group", "CreateGroup", null, new { @class = "btn btn-default", disabled = "disabled", @readonly = "readonly" })
        </p>
    }
    else
    {
        <p>
            @Html.ActionLink("Create Group", "CreateGroup", null, new { @class = "btn btn-default" })
        </p>
    }
}
<br />
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Groups[0].GroupName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Groups[0].Description)
        </th>
        <th>
            Members
        </th>
        <th>

        </th>
    </tr>

    @foreach (var group in Model.Groups)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => group.GroupName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => group.Description)
            </td>
            <td>
                @group.Students.Count() / 5
            </td>
            @{if (!Model.hasGroup && group.Students.Count() < 5)
                {
                    <td>
                        @Html.ActionLink("Join", "JoinGroup", new { id = group.GroupId }, new { @class = "btn btn-default" })
                    </td>
                }
                else
                {
                    <td>
                        @Html.ActionLink("Join", "JoinGroup", new { id = group.GroupId }, new { @class = "btn btn-default", disabled = "disabled", @readonly = "readonly" })
                    </td>
                }
            }
        </tr>
                }

</table>
